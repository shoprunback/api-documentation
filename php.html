<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>PHP Library</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="php" data-languages="[&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">PHP</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://dashboard.shoprunback.com'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <p><a href="./">Go back to the main documentation</a></p>

<h1 id="php-library">PHP Library</h1>

<p>Welcome to the ShopRunBack public PHP library.</p>

<p>This library will help you use the <a href="https://shoprunback.github.io/documentation/api.html">ShopRunBack API</a> easily in your PHP application.</p>

<p>It is used in our <a href="https://shoprunback.github.io/documentation/prestashop.html">PrestaShop module</a>.</p>

<p>If you have any question, please send an email to: tech_at_shoprunback.com</p>

          <h1 id="install">Install</h1>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>
</code></pre>
<p><a href="images/shoprunback-php/shoprunback-php.zip">Click here</a> to download the library.</p>

<p>Then, unzip the .zip and move the folder into your project.</p>

<p>Finally, to load the library, you need to load it with a <code class="prettyprint">require_once</code>.</p>

          <h1 id="authentication">Authentication</h1>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="c1">// We highly recommend you to write this line at the very beginning of your code
// This way, the token will be globally set for all API calls
</span><span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>
</code></pre>
<p>To use the API, you must be authenticated with your API token, which can be done with the class RestClient.</p>

<p>You need to set your API token in the RestClient with <code class="prettyprint">setToken</code>, and then you will have access to all your data.</p>

<aside class="warning">
The authentication token is <b>unique</b> for each Account and <b>gives access to all your data</b>, <b>be careful not to share it</b>!
</aside>

          <h1 id="elements">Elements</h1>

<p>The elements are all the <strong>classes you can manipulate to display, edit or delete your personal data</strong>.</p>

<p>All the mandatory Elements required to create and manage a Shipback are implemented.</p>

<aside class="notice">
To know what attributes each Element has, please read the documentation about our <a href="https://shoprunback.github.io/documentation/api.html" target="blank">REST API</a>.
</aside>

          <h2 id="account">Account</h2>

<p>The class Account represents your ShopRunBack account.</p>

<blockquote>
<p>Get your account</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Account</span><span class="o">::</span><span class="na">getOwn</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Update your account</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Account</span><span class="o">::</span><span class="na">getOwn</span><span class="p">();</span>
<span class="nv">$account</span><span class="o">-&gt;</span><span class="na">first_name</span> <span class="o">=</span> <span class="s1">'Martin'</span><span class="p">;</span>
<span class="nv">$account</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes, <strong>for your account only</strong></td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>No</td>
</tr>
</tbody></table>

          <h2 id="address">Address</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$address</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Address</span><span class="p">();</span>
</code></pre>
<p>The class <strong>Address</strong> represents a postal address. It <strong>can belong to</strong> a <strong>Company</strong>, a <strong>Customer</strong> or a <strong>Warehouse</strong>.</p>

<p><strong>Address is necessary to create a Warehouse or a Customer</strong>.</p>

<blockquote>
<p>Create an Address</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$address</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Address</span><span class="p">();</span>

<span class="c1">// Mandatory attributes
</span><span class="nv">$address</span><span class="o">-&gt;</span><span class="na">line1</span> <span class="o">=</span> <span class="s1">'42, Noodle Boulevard'</span><span class="p">;</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">country_code</span> <span class="o">=</span> <span class="s1">'FR'</span><span class="p">;</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">city</span> <span class="o">=</span> <span class="s1">'Paris'</span><span class="p">;</span>

<span class="c1">// Optional attributes
</span><span class="nv">$address</span><span class="o">-&gt;</span><span class="na">line2</span> <span class="o">=</span> <span class="s1">'103 first floor'</span><span class="p">;</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">zipcode</span> <span class="o">=</span> <span class="s1">'75001'</span><span class="p">;</span>

<span class="c1">// We then attribute the Address to an appropriate element
</span><span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Customer</span><span class="p">();</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">address</span> <span class="o">=</span> <span class="nv">$address</span><span class="p">;</span>
</code></pre>
          <h2 id="brand">Brand</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$brand</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="p">();</span>
</code></pre>
<p>The class Brand represents the brand you&rsquo;re selling. Products belongs to a brand. You can create and delete Brands and add or remove Products from your Brands.</p>

<p>All your <strong>Products are linked to a Brand</strong>.</p>

<blockquote>
<p>Create a Brand</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$brand</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="p">();</span>

<span class="c1">// Mandatory to create a new brand
</span><span class="nv">$brand</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">'My super brand'</span><span class="p">;</span>
<span class="nv">$brand</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'my-super-brand'</span><span class="p">;</span>

<span class="c1">// Now we can save the brand!
</span><span class="nv">$brand</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Get all Brands (paginated)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$brands</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Get a Brand</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$brand</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Update a Brand</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$brand</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
<span class="nv">$brand</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">'New name'</span><span class="p">;</span>
<span class="nv">$brand</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Delete a Brand</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>Yes</td>
</tr>
</tbody></table>

          <h2 id="company">Company</h2>

<blockquote>
<p>Get its company</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$company</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Company</span><span class="o">::</span><span class="na">getOwn</span><span class="p">();</span>
</code></pre>
<p>The class Company contains the informations about your company.</p>

<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Update your company</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$company</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Company</span><span class="o">::</span><span class="na">getOwn</span><span class="p">();</span>
<span class="nv">$company</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">'ShopRunBack'</span><span class="p">;</span>
<span class="nv">$company</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes, <strong>your company only</strong></td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>No</td>
</tr>
</tbody></table>

          <h2 id="customer">Customer</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Customer</span><span class="p">();</span>
</code></pre>
<p>The class Customer represents one of your customers.</p>

<p><strong>Customer is necessary to create an Order or a Shipback</strong>.</p>

<blockquote>
<p>Create a Customer</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Customer</span><span class="p">();</span>

<span class="c1">// Mandatory attributes
</span><span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">first_name</span> <span class="o">=</span> <span class="s1">'Jean'</span><span class="p">;</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">last_name</span> <span class="o">=</span> <span class="s1">'Dupont'</span><span class="p">;</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">email</span> <span class="o">=</span> <span class="s1">'jeandupont@gmail.com'</span><span class="p">;</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">phone</span> <span class="o">=</span> <span class="s1">'0612345789'</span><span class="p">;</span>

<span class="c1">// Mandatory nested elements
// The mandatory nested elements must be filled with the required parameters.
</span>
<span class="c1">// Please read the doc showing how to correctly create an Address.
</span><span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">address</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Address</span><span class="p">();</span>

<span class="c1">// Optional attributes
</span><span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">locale</span> <span class="o">=</span> <span class="s1">'fr'</span><span class="p">;</span>

<span class="c1">// We then attribute the Customer to an appropriate element
</span><span class="nv">$order</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="p">();</span>
<span class="nv">$order</span><span class="o">-&gt;</span><span class="na">customer</span> <span class="o">=</span> <span class="nv">$customer</span><span class="p">;</span>
</code></pre>
          <h2 id="item">Item</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$item</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Item</span><span class="p">();</span>
</code></pre>
<p>The class Item represents a <strong>product a customer ordered with additionnal parameters</strong> specific to the order.</p>

<p>An <strong>Order owns an array of Items</strong>.</p>

<p>An <strong>Item</strong> is <strong>linked to a Product</strong>.</p>

<blockquote>
<p>Create an Item</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="c1">// The Item must be linked to a Product
</span><span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>

<span class="nv">$item</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Item</span><span class="p">();</span>

<span class="c1">// Mandatory attributes
</span><span class="nv">$item</span><span class="o">-&gt;</span><span class="na">product_id</span> <span class="o">=</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span>
<span class="nv">$item</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'My item label'</span><span class="p">;</span> <span class="c1">// You can also set the product's label: $product-&gt;label
</span><span class="nv">$item</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'my-item-reference'</span><span class="p">;</span> <span class="c1">// You can also set the product's reference: $product-&gt;reference
</span><span class="nv">$item</span><span class="o">-&gt;</span><span class="na">price_cents</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="c1">// Optional attributes
</span><span class="nv">$item</span><span class="o">-&gt;</span><span class="na">barcode</span> <span class="o">=</span> <span class="s1">'9782700507089'</span><span class="p">;</span>
<span class="nv">$item</span><span class="o">-&gt;</span><span class="na">currency</span> <span class="o">=</span> <span class="s1">'eur'</span><span class="p">;</span>

<span class="c1">// We then attribute the Item to an appropriate element
</span><span class="nv">$order</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="p">();</span>
<span class="nv">$order</span><span class="o">-&gt;</span><span class="na">items</span> <span class="o">=</span> <span class="p">[</span><span class="nv">$item</span><span class="p">];</span>
</code></pre>
          <h2 id="order">Order</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$order</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="p">();</span>
</code></pre>
<p>The class Order represents an online <strong>order made by one of your customers</strong>.</p>

<p>All <strong>orders have an array of items</strong>.</p>

<p>If <strong>the customer has asked to return</strong> some of the items, then <strong>the order is linked to a shipback</strong>.</p>

<blockquote>
<p>Create an Order</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$order</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="p">();</span>

<span class="c1">// Mandatory to create a new order
</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">order_number</span> <span class="o">=</span> <span class="s1">'4548-9854'</span><span class="p">;</span>


<span class="c1">// Mandatory nested elements
// The mandatory nested elements must be filled with the required parameters.
</span>
<span class="c1">// Please read the doc showing how to correctly create a Customer.
</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Customer</span><span class="p">();</span>

<span class="c1">// Please read the doc showing how to correctly create a Item.
</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">items</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nv">$order</span><span class="o">-&gt;</span><span class="na">items</span><span class="p">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Item</span><span class="p">();</span>

<span class="c1">// Now we can save the order!
</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Get all Orders (paginated)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$orders</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Get an Order</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$order</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Order</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967deav'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Delete an Order</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nx">\Shoprunback\Elements\Order</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967deav'</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>Yes</td>
</tr>
</tbody></table>

          <h2 id="product">Product</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>
</code></pre>
<p>The class Product represents a product your company is selling. <strong>Do not confuse it with</strong> an <strong>Item</strong>.</p>

<p>All your <strong>products are linked to a brand</strong>. If you <strong>forget to link</strong> a product to a brand, it is <strong>then automatically linked to the default</strong> brand.</p>

<p>An <strong>Order has Items</strong>, and <strong>each Item is linked to one Product</strong>.</p>

<blockquote>
<p>Create a Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>

<span class="c1">// Mandatory to create a new product
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'My super product'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'my-super-product'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">weight_grams</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>


<span class="c1">// Mandatory nested elements
// The mandatory nested elements must be filled with the required parameters.
</span>
<span class="c1">// If you want to link your product to an existing Brand, set the ID of your already registered brand
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">brand_id</span> <span class="o">=</span> <span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">;</span>

<span class="c1">// If you want to link your product to a new Brand
// Please read the documentation above showing how to correctly create a Brand.
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">brand</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="p">();</span>

<span class="c1">// --------------------------------------------------------------------------------------
// To link a Brand, you must always either set brand_id or brand, but never both!
// --------------------------------------------------------------------------------------
</span>

<span class="c1">// Optional
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">ean</span> <span class="o">=</span> <span class="s1">'1258987561456'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">width_mm</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">length_mm</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">height_mm</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="c1">// For the picture, please use ONLY ONE of those two parameters, not both at the same time
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">picture_file_base64</span> <span class="o">=</span> <span class="s1">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQAAAAA3bvkkAAAAAnRSTlMAAHaTzTgAAAAKSURBVHgBY2AAAAACAAFzdQEYAAAAAElFTkSuQmCC'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">picture_file_url</span> <span class="o">=</span> <span class="s1">'http://shoprunback.com/wp-content/themes/shoprunback/images/logo-menu.png'</span><span class="p">;</span>


<span class="c1">// Now you can save the product
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Get all Products (paginated)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Get one Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Update a Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'New label'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Delete a Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>Yes</td>
</tr>
</tbody></table>

          <h2 id="returneditem">ReturnedItem</h2>

<blockquote>
<p>Get ReturnedItems</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$shipback</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Shipback</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>

<span class="nv">$returnedItem</span> <span class="o">=</span> <span class="nv">$shipback</span><span class="o">-&gt;</span><span class="na">returned_items</span><span class="p">;</span>
</code></pre>
<p>The class ReturnedItem represents an item a customer ordered and wants to return.</p>

<p>A <strong>Shipback owns an array of ReturnedItems</strong>.</p>

<p>A <strong>ReturnedItems</strong> is <strong>linked to an Item</strong>.</p>

          <h2 id="shipback">Shipback</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$shipback</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Shipback</span><span class="p">();</span>
</code></pre>
<p>The class Shipback represents a return request made by a customer.</p>

<p>All <strong>shipbacks are linked to an order</strong>. They also <strong>have an array of quotes given by the logistics service</strong> (see Quotes for more info), <strong>an array of returned items</strong> and <strong>a size set by the customer after the shipback was created</strong>.</p>

<p>The <strong>returned items</strong> is an <strong>array containing the selected items from the original order</strong>.</p>

<p>The <strong>quotes</strong> is an <strong>array of Quotes</strong>, meaning the <strong>available modes of transportation for the return</strong>, with their price, state and their related data.</p>

<p>The <strong>customer</strong> is the customer that <strong>has initially made the linked order</strong>.</p>

<p>The <strong>company</strong> is the company <strong>that owns the products inside the items the customer bought</strong> in the linked order.</p>

<aside class="warning">
You <b>need to have</b> at least <b>one Warehouse to create a Shipback</b>.
</aside>

<blockquote>
<p>Create a Shipback</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$shipback</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Shipback</span><span class="p">();</span>

<span class="c1">// Mandatory attributes
</span><span class="nv">$shipback</span><span class="o">-&gt;</span><span class="na">order_id</span> <span class="o">=</span> <span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967deav'</span><span class="p">;</span>

<span class="c1">// ---------------------------------------------------------------------------------------------------------
// To create a shipback, you must only set an order_id. All the other attributes are created by ShopRunBack.
// ---------------------------------------------------------------------------------------------------------
</span>
<span class="c1">// -----------------------------------------------------------------------------------
// To create a shipback, you must have at least one Warehouse created on your account!
// -----------------------------------------------------------------------------------
</span>
<span class="c1">// Now we can save the shipback!
</span><span class="nv">$shipback</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Get all Shipbacks (paginated)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$shipbacks</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Shipback</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Get one Shipback</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$shipback</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Shipback</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967deav'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Delete a Shipback</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nx">\Shoprunback\Elements\Shipback</span><span class="o">::</span><span class="na">delete</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967deav'</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>Yes</td>
</tr>
</tbody></table>

          <h2 id="warehouse">Warehouse</h2>

<blockquote>
<p>Initialize</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$warehouse</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Warehouse</span><span class="p">();</span>
</code></pre>
<p>The class Warehouse represents the destination of the items that will be returned to you.</p>

<aside class="warning">
You <b>need to have</b> at least <b>one Warehouse to create a Shipback</b>.
</aside>

<blockquote>
<p>Create a Warehouse</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$warehouse</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Warehouse</span><span class="p">();</span>

<span class="c1">// Mandatory to create a new warehouse
</span><span class="nv">$warehouse</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">'My warehouse'</span><span class="p">;</span>
<span class="nv">$warehouse</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'my-warehouse'</span><span class="p">;</span>

<span class="c1">// Now we can save the warehouse!
</span><span class="nv">$warehouse</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<h4 id="api-methods">API Methods</h4>

<blockquote>
<p>Get all Warehouses (paginated)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$warehouses</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Warehouse</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Get one Warehouse</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$warehouse</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Warehouse</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
</code></pre>
<table><thead>
<tr>
<th>Method</th>
<th>Enabled</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get all (paginated)</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Get one</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Create</strong></td>
<td>Yes</td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td>No</td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td>No</td>
</tr>
</tbody></table>

          <h1 id="manage-a-single-element">Manage a single Element</h1>

<h2 id="use-the-librarys-classes">Use the library&rsquo;s classes</h2>

<blockquote>
<p>Calling the class with a use statement</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="k">use</span> <span class="nx">\Shoprunback\Elements\Product</span> <span class="k">as</span> <span class="nx">LibProduct</span><span class="p">;</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LibProduct</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Calling the class without a use statement</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>
</code></pre>
<p>You can either <strong>call the class directly with its namespace</strong> or write a <strong>use statement</strong> so you can <strong>access it with the class name</strong> only.</p>

<p>We recommend you to <strong>use the use statement for your classes</strong> needing one of the library&rsquo;s classes, since you will often call them.</p>

<p>For <strong>files calling the library&rsquo;s classes rarely</strong>, you can use the <strong>direct call with the namespace</strong>.</p>

<h2 id="original-values">Original values</h2>

<blockquote>
<p>Get original values</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span> <span class="c1">// Prints: 'My label'
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'New label'</span><span class="p">;</span>

<span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span> <span class="c1">// Prints: 'New label'
</span>
<span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">_origValues</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span> <span class="c1">// Prints 'My label'
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">refresh</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span> <span class="c1">// Prints 'My label'
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'New label'</span><span class="p">;</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">_origValues</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span> <span class="c1">// Prints 'New label'
</span></code></pre>
<p>You can get the original values of an Element whenever you want by getting the <code class="prettyprint">_origValues</code> attribute.</p>

<aside class="warning">
<b>Never edit the</b> `_origValues`, they are the current value on the server.
</aside>

<p>If you want to reset an element with its original values, use <code class="prettyprint">refresh</code> (makes an API call)</p>

<aside class="warning">
When the <b>element is saved</b>, the <b>origValues</b> will be <b>updated with the new values!</b>
</aside>

<h2 id="how-to-delete-an-element">How to delete an Element</h2>

<blockquote>
<p>Remove an Element by an instance</p>
</blockquote>
<pre class="highlight php tab-php"><code>require_once 'path/to/lib/shoprunback-php/init.php';

\Shoprunback\RestClient::getClient()-&gt;setToken('yourApiToken');

$brand = \Shoprunback\Elements\Brand::retrieve('1f27f9d9-3b5c-4152-98b7-760f56967dea');
$brand-&gt;remove();
</code></pre>
<blockquote>
<p>Remove an Element directly with its ID</p>
</blockquote>
<pre class="highlight php tab-php"><code>require_once 'path/to/lib/shoprunback-php/init.php';

\Shoprunback\RestClient::getClient()-&gt;setToken('yourApiToken');

\Shoprunback\Elements\Brand::delete('1f27f9d9-3b5c-4152-98b7-760f56967dea');
</code></pre>
<p>You <strong>can</strong> either <strong>delete an Element by an instance with</strong> <code class="prettyprint">remove</code> <strong>or directly with its ID with</strong> <code class="prettyprint">delete</code>.</p>

<h2 id="get-different-attributes">Get different attributes</h2>

<blockquote>
<p>Different ways to get important attributes</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'My label'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">custom</span> <span class="o">=</span> <span class="s1">'My custom param'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">brand</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="p">();</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getAllAttributes</span><span class="p">();</span> <span class="c1">// Returns 'label', 'custom' and 'brand' with their values
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getApiAttributes</span><span class="p">();</span> <span class="c1">// Returns 'label' and 'brand' with their values
</span></code></pre>
<p>To get <strong>all the attributes of an Element including the nested Elements</strong>, you can use <code class="prettyprint">getAllAttributes</code>.</p>

<p>To get <strong>only the attributes an Element will use for an API call</strong>, you can use <code class="prettyprint">getApiAttributes</code>.</p>

<blockquote>
<p>Get all keys an Element accepts</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getApiAttributesKeys</span><span class="p">();</span> <span class="c1">// Returns all attributes a Product will accept before doing an API call
</span></code></pre>
<p>You can <strong>list all the attributes an Element accepts when making an API call</strong> with <code class="prettyprint">getApiAttributesKeys</code>.</p>

<h2 id="use-the-elements-with-my-objects">Use the elements with my objects</h2>

<blockquote>
<p>Separate my own classes and the library&rsquo;s classes</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">\Shoprunback\Elements\Product</span> <span class="k">as</span> <span class="nx">libProduct</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">myProduct</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'My label'</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'my-label'</span><span class="p">;</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">weight_in_grams</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">generateLibProduct</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">libProduct</span><span class="p">();</span>

    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">;</span>
    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reference</span><span class="p">;</span>
    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">weight_in_grams</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">weight_in_grams</span><span class="p">;</span>

    <span class="c1">//[...]
</span>    <span class="c1">// Add all params to $product
</span>    <span class="c1">//[...]
</span>
    <span class="k">return</span> <span class="nv">$product</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="nf">save</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="c1">// [...]
</span>
    <span class="nv">$libProduct</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">generateLibProduct</span><span class="p">();</span>
    <span class="nv">$libProduct</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

    <span class="c1">// [...]
</span>  <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$myProduct</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">myProduct</span><span class="p">();</span>
<span class="nv">$myProduct</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>Extend the library&rsquo;s classes</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">\Shoprunback\Elements\Product</span> <span class="k">as</span> <span class="nx">libProduct</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">myProduct</span> <span class="k">extends</span> <span class="nx">libProduct</span>
<span class="p">{</span>
  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$params</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="nv">$params</span><span class="p">[</span><span class="s1">'label'</span><span class="p">];</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="nv">$params</span><span class="p">[</span><span class="s1">'reference'</span><span class="p">];</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">weight_in_grams</span> <span class="o">=</span> <span class="nv">$params</span><span class="p">[</span><span class="s1">'weight_in_grams'</span><span class="p">];</span>

    <span class="c1">//[...]
</span>    <span class="c1">// Add all params to $product
</span>    <span class="c1">//[...]
</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">'id'</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nb">is_null</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]))</span> <span class="p">{</span>
      <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Be careful not to overwrite the functions of the parent class!
</span>  <span class="k">public</span> <span class="k">function</span> <span class="nf">saveProduct</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="c1">// Code...
</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span> <span class="c1">// save() is a function of the parent class, don't overwrite it!
</span>
    <span class="c1">// Code...
</span>  <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'My label'</span><span class="p">,</span>
  <span class="s1">'reference'</span> <span class="o">=&gt;</span> <span class="s1">'my-label'</span><span class="p">,</span>
  <span class="s1">'weight_in_grams'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$myProduct</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">myProduct</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="nv">$myProduct</span><span class="o">-&gt;</span><span class="na">saveProduct</span><span class="p">();</span>
</code></pre>
<p>You can <strong>either use the library independantly of your classes or extend the library&rsquo;s classes</strong></p>

<aside class="warning">
<b>If you use inheritance</b>, be <b>careful not to overwrite the parent functions</b>. Instead, <b>use functions including the parent function</b>.
</aside>

<h2 id="check-changed-fields">Check changed fields</h2>

<blockquote>
<p>Check if an Element is a new one or not</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isPersisted</span><span class="p">();</span> <span class="c1">// false
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'New label'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">reference</span> <span class="o">=</span> <span class="s1">'new-label'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">weight_in_grams</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isPersisted</span><span class="p">();</span> <span class="c1">// false
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isPersisted</span><span class="p">();</span> <span class="c1">// true
</span>
<span class="nv">$retrievedProduct</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>
<span class="nv">$retrievedProduct</span><span class="o">-&gt;</span><span class="na">isPersisted</span><span class="p">();</span> <span class="c1">// true
</span></code></pre>
<blockquote>
<p>Check changed fields in a existing Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isDirty</span><span class="p">();</span> <span class="c1">// false
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getDirtyKeys</span><span class="p">();</span> <span class="c1">// Returns []
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isKeyDirty</span><span class="p">(</span><span class="s1">'label'</span><span class="p">);</span> <span class="c1">// false
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'New label'</span><span class="p">;</span>

<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isDirty</span><span class="p">();</span> <span class="c1">// true
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getDirtyKeys</span><span class="p">();</span> <span class="c1">// Returns ['label']
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isKeyDirty</span><span class="p">(</span><span class="s1">'label'</span><span class="p">);</span> <span class="c1">// true
</span></code></pre>
<blockquote>
<p>Check changed fields in a new Product</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="p">();</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isDirty</span><span class="p">();</span> <span class="c1">// true
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">label</span> <span class="o">=</span> <span class="s1">'My label'</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">isDirtyKey</span><span class="p">(</span><span class="s1">'label'</span><span class="p">);</span> <span class="c1">// true
</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getDirtyKeys</span><span class="p">();</span> <span class="c1">// Returns ['label']
</span></code></pre>
<p>To know <strong>if an Element is new</strong>, you can use <code class="prettyprint">isPersisted</code>. If it <strong>returns true</strong>, then the Element is <strong>not new</strong>.</p>

<p>You can <strong>check if an Element is new or has at least one parameter changed</strong> with <code class="prettyprint">isDirty</code>.</p>

<p>You can know <strong>which keys have been changed</strong> with <code class="prettyprint">getDirtyKeys</code>.</p>

<p>You can also check <strong>if a precise key has changed</strong> with <code class="prettyprint">isDirtyKey</code>.</p>

<p>When you try to <strong>update an existing Element</strong>, it will <strong>only send the attributes that has been changed</strong>.</p>

<p>A <strong>key present in the</strong> <code class="prettyprint">getApiAttributesKeys</code> that <strong>hasn&rsquo;t a</strong> <code class="prettyprint">_origValues</code> is <strong>considered changed</strong> (ex: when you create a new Product and add a label).</p>

<h2 id="which-api-calls-can-it-do">Which API calls can it do ?</h2>

<blockquote>
<p>Check which API calls an Element can or cannot do</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="c1">// All those methods return true or false
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">canRetrieve</span><span class="p">();</span> <span class="c1">// Check if you can get one element
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">canCreate</span><span class="p">();</span> <span class="c1">// Check if you can save a new element
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">canUpdate</span><span class="p">();</span> <span class="c1">// Check if you can update an existing element
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">canDelete</span><span class="p">();</span> <span class="c1">// Check if you can delete an element
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">canGetAll</span><span class="p">();</span> <span class="c1">// Check if you can get many elements at once
</span></code></pre>
<p>You can <strong>check if an element can do an API call</strong> with <code class="prettyprint">canRetrieve()</code>,<code class="prettyprint">canCreate()</code>, <code class="prettyprint">canUpdate()</code>, <code class="prettyprint">canDelete()</code>, <code class="prettyprint">canGetAll()</code></p>

<h2 id="get-the-element-name">Get the element name</h2>

<blockquote>
<p>Get the element name</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\Elements\Address</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'address'
</span><span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'brand'
</span><span class="nx">\Shoprunback\Elements\Item</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'item'
</span><span class="nx">\Shoprunback\Elements\Order</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'order'
</span><span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'product'
</span><span class="nx">\Shoprunback\Elements\Shipback</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'shipback'
</span><span class="nx">\Shoprunback\Elements\Warehouse</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// Returns 'warehouse'
</span></code></pre>
<p>To easily <strong>get</strong> the <strong>lowercase name of an element</strong>, you can use those methods.</p>

<blockquote>
<p>Get a nested element with its name</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">);</span>

<span class="nv">$brandName</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Brand</span><span class="o">::</span><span class="na">getElementName</span><span class="p">();</span> <span class="c1">// $brandName = 'brand'
</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="nv">$brandName</span><span class="p">;</span> <span class="c1">// $product-&gt;brand
</span></code></pre>
<p>This way, you can easily <strong>get the attribute name for a nested Element</strong>. It can be <strong>useful in recursive functions or logs</strong>.</p>

          <h1 id="restclient">RestClient</h1>

<blockquote>
<p>Use the RestClient globally</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useSandboxEnvironment</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nb">define</span><span class="p">(</span><span class="s1">'SRB_REST_CLIENT'</span><span class="p">,</span> <span class="nv">$restClient</span><span class="p">);</span>
</code></pre>
<p><strong>Accepts: GET ; POST ; PUT ; DELETE</strong></p>

<p>The RestClient is used to execute the API calls.</p>

<p>It is a <strong>Singleton</strong>, so you need to use <code class="prettyprint">getClient</code> to use it.</p>

<aside class="warning">
  Since it is a Singleton, it is highly recommended to <b>declare it in a variable or a constant</b> so you can use it everywhere
</aside>

<h2 id="set-token">Set token</h2>

<blockquote>
<p>Set token</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>
</code></pre>
<p>You can <strong>set the token of a user</strong> with <code class="prettyprint">setToken()</code>. Most of the API calls need you to be authentified to be done.</p>

<h2 id="use-production-or-sandbox-environment">Use production or sandbox environment</h2>

<blockquote>
<p>Set environment</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>

<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useProductionEnvironment</span><span class="p">();</span>
<span class="c1">// OR
</span><span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useSandboxEnvironment</span><span class="p">();</span>
</code></pre>
<p>To choose <strong>which environment to work with</strong>, you can use <code class="prettyprint">useProductionEnvironment</code> or <code class="prettyprint">useSandboxEnvironment</code>.</p>

<p>It will define <strong>https://dashboard.shoprunback.com</strong> or <strong>https://sandbox.dashboard.shoprunback.com</strong> as the base URL for all the API calls.</p>

<blockquote>
<p>Get the environments&rsquo; URL</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getProductionUrl</span><span class="p">();</span> <span class="c1">// Returns 'https://dashboard.shoprunback.com'
</span><span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getSandboxUrl</span><span class="p">();</span> <span class="c1">// Returns 'https://sandbox.dashboard.shoprunback.com'
</span></code></pre>
<p>If you want to <strong>get the URL of the</strong> production or sandbox <strong>environment without changing the environment you are working with</strong>, you can use <code class="prettyprint">getProductionUrl</code> or <code class="prettyprint">getSandboxUrl</code>.</p>

          <h1 id="restresponse">RestResponse</h1>

<blockquote>
<p>Success</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span>
    <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">showEndpoint</span><span class="p">(</span><span class="s1">'1f27f9d9-3b5c-4152-98b7-760f56967dea'</span><span class="p">),</span>
    <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">GET</span>
  <span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">RestClientError</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getCode</span><span class="p">();</span> <span class="c1">// Returns the HTTP code
</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getBody</span><span class="p">();</span> <span class="c1">// Returns the result of the API call (Here it returns the product with the id '1f27f9d9-3b5c-4152-98b7-760f56967dea')
</span></code></pre>
<blockquote>
<p>Failure</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'a wrong ID'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Shoprunback\Error\Error</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">is_a</span><span class="p">(</span><span class="nv">$e</span><span class="p">,</span> <span class="nx">\Shoprunback\Error\RestClientError</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">response</span><span class="p">;</span>

    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getCode</span><span class="p">();</span> <span class="c1">// Returns the HTTP code
</span>    <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">();</span> <span class="c1">// Returns the errors
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>The RestResponse contains the <strong>response of an API call</strong>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Special</th>
</tr>
</thead><tbody>
<tr>
<td><strong>code</strong></td>
<td><strong>INT</strong></td>
<td>The HTTP code returned</td>
<td></td>
</tr>
<tr>
<td><strong>body</strong></td>
<td><strong>Object</strong></td>
<td>The result of a succesful query</td>
<td><strong>Only on Success</strong></td>
</tr>
<tr>
<td><strong>errors</strong></td>
<td><strong>Object</strong></td>
<td>The result of a failed query</td>
<td><strong>Only on Failure</strong></td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<blockquote>
<p>Catch an Error from the library</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'a wrong ID'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Shoprunback\Error\Error</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Here you can manage the error
</span><span class="p">}</span>
</code></pre>
<p>To prevent errors to crash your application, you must catch the exceptions.</p>

<p>All the errors the library can return inherit from the class <code class="prettyprint">\Shoprunback\Error\Error</code>.</p>

<h4 id="parameters">Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Specific to</th>
</tr>
</thead><tbody>
<tr>
<td><strong>message</strong></td>
<td><strong>String</strong></td>
<td>The mandatory message for an Exception</td>
<td>All</td>
</tr>
<tr>
<td><strong>response</strong></td>
<td><strong>RestResponse</strong></td>
<td>The response from the server explaining why the call failed</td>
<td><strong>RestClientError</strong></td>
</tr>
</tbody></table>

<h2 id="error-types">Error types</h2>

<blockquote>
<p>Use a RestClientError</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nv">$product</span> <span class="o">=</span> <span class="nx">\Shoprunback\Elements\Product</span><span class="o">::</span><span class="na">retrieve</span><span class="p">(</span><span class="s1">'a wrong ID'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Shoprunback\Error\Error</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">is_a</span><span class="p">(</span><span class="nv">$e</span><span class="p">,</span> <span class="nx">\Shoprunback\Error\RestClientError</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$restResponse</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">response</span><span class="p">;</span>
    <span class="c1">// Then, see how to use a RestResponse
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Class name</th>
<th>Event</th>
<th>Special</th>
</tr>
</thead><tbody>
<tr>
<td><strong>ElementCannotBeCreated</strong></td>
<td>When an element doesn&rsquo;t have a POST endpoint (ex: Account)</td>
<td></td>
</tr>
<tr>
<td><strong>ElementCannotBeUpdated</strong></td>
<td>When an element doesn&rsquo;t have a PUT endpoint (ex: Order)</td>
<td></td>
</tr>
<tr>
<td><strong>ElementCannotGetAll</strong></td>
<td>When an element doesn&rsquo;t have a GET endpoint to get all Elements (ex: Account)</td>
<td></td>
</tr>
<tr>
<td><strong>ElementIndexDoesntExists</strong></td>
<td>When you try to get the nth element and there are less than n element</td>
<td></td>
</tr>
<tr>
<td><strong>NotFoundError</strong></td>
<td>When you try to get or update an element but the given ID or reference doesn&rsquo;t exist</td>
<td></td>
</tr>
<tr>
<td><strong>RestClientError</strong></td>
<td>When an error occured while trying to make an API call (token not set, server unreachable&hellip;)</td>
<td>Has a <strong>response</strong> parameter containing a <strong>RestResponse</strong></td>
</tr>
<tr>
<td><strong>UnknownApiToken</strong></td>
<td>(Not yet implemented)</td>
<td></td>
</tr>
<tr>
<td><strong>UnknownElement</strong></td>
<td>When the library checks if an object is an Element and doesn&rsquo;t find any appropriate class</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="logs">Logs</h1>

<p>Most actions of the library are logged.</p>

<p>You can check all those logs in <code class="prettyprint">/path/to/lib/shoprunback-php/logs</code>.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">PHP</a>
          </div>
      </div>
    </div>
  </body>
</html>
