<h1 id="restclient">RestClient</h1>

<blockquote>
<p>Use the RestClient globally</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useSandboxEnvironment</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>

<span class="nb">define</span><span class="p">(</span><span class="s1">'SRB_REST_CLIENT'</span><span class="p">,</span> <span class="nv">$restClient</span><span class="p">);</span>
</code></pre>
<p><strong>Accepts: GET ; POST ; PUT ; DELETE</strong></p>

<p>The RestClient is used to execute the API calls.</p>

<p>It is a <strong>Singleton</strong>, so you need to use <code class="prettyprint">getClient</code> to use it.</p>

<aside class="warning">
  Since it is a Singleton, it is highly recommended to <b>declare it in a variable or a constant</b> so you can use it everywhere
</aside>

<h2 id="set-token">Set token</h2>

<blockquote>
<p>Set token</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>
<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'yourApiToken'</span><span class="p">);</span>
</code></pre>
<p>You can <strong>set the token of a user</strong> with <code class="prettyprint">setToken()</code>. Most of the API calls need you to be authentified to be done.</p>

<h2 id="use-production-or-sandbox-environment">Use production or sandbox environment</h2>

<blockquote>
<p>Set environment</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nv">$restClient</span> <span class="o">=</span> <span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">();</span>

<span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useProductionEnvironment</span><span class="p">();</span>
<span class="c1">// OR
</span><span class="nv">$restClient</span><span class="o">-&gt;</span><span class="na">useSandboxEnvironment</span><span class="p">();</span>
</code></pre>
<p>To choose <strong>which environment to work with</strong>, you can use <code class="prettyprint">useProductionEnvironment</code> or <code class="prettyprint">useSandboxEnvironment</code>.</p>

<p>It will define <strong>https://dashboard.shoprunback.com</strong> or <strong>https://sandbox.dashboard.shoprunback.com</strong> as the base URL for all the API calls.</p>

<blockquote>
<p>Get the environments&rsquo; URL</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getProductionUrl</span><span class="p">();</span> <span class="c1">// Returns 'https://dashboard.shoprunback.com'
</span><span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getSandboxUrl</span><span class="p">();</span> <span class="c1">// Returns 'https://sandbox.dashboard.shoprunback.com'
</span></code></pre>
<p>If you want to <strong>get the URL of the</strong> production or sandbox <strong>environment without changing the environment you are working with</strong>, you can use <code class="prettyprint">getProductionUrl</code> or <code class="prettyprint">getSandboxUrl</code>.</p>

<h2 id="custom-headers">Custom headers</h2>

<h3 id="set-custom-headers">Set custom headers</h3>

<blockquote>
<p>Set custom headers</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setCustomHeaders</span><span class="p">([</span>
  <span class="s1">'Custom-Field: Custom value'</span><span class="p">,</span>
  <span class="s1">'Another-Field: Another value'</span>
<span class="p">]);</span>
</code></pre>
<p>If you need to add headers to your HTTP requests, you can add custom headers to your RestClient with <code class="prettyprint">setCustomHeaders</code>.</p>

<p><strong>Your custom headers must be an array</strong>.</p>

<aside class="warning">
  You cannot modify the &ldquo;Content-Type&rdquo; and &ldquo;Authorization&rdquo; headers.
</aside>

<h3 id="get-your-custom-headers">Get your custom headers</h3>

<blockquote>
<p>Get your custom headers</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="s1">'path/to/lib/shoprunback-php/init.php'</span><span class="p">;</span>

<span class="nx">\Shoprunback\RestClient</span><span class="o">::</span><span class="na">getClient</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getCustomHeaders</span><span class="p">();</span>
</code></pre>
<p>You can get the custom headers you set with <code class="prettyprint">getCustomHeaders</code>.</p>
