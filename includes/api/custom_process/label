<h2 id="4-get-the-label">4. Get the label</h2>
<pre class="highlight shell tab-shell"><code><span class="c"># cURL example:</span>
curl -H <span class="s2">"Authorization: Token token=&lt;your_token&gt;"</span>
     -X POST
     <span class="s1">'https://dashboard.shoprunback.com/api/v1/shipbacks/:id/free'</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="c1"># Ruby example</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">HTTParty</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span>
    <span class="s1">'https://dashboard.shoprunback.com/api/v1/shipbacks/#{shipback_id}/free'</span><span class="p">,</span>
    <span class="ss">headers: </span><span class="p">{</span>
        <span class="s1">'Content-Type'</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
        <span class="s1">'Authorization'</span> <span class="o">=&gt;</span> <span class="s2">"Token token=</span><span class="si">#{</span><span class="n">your_token</span><span class="si">}</span><span class="s2">"</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre>
<aside class="notice">
  You can only generate the label for modes free of charge for your customer,
  otherwise your customer has to be redirected to our website.
</aside>

<p>To validate the selected mode and get the label, payment information needs to be
added to the shipback. In the case of a custom return process, where customer
payment isn&rsquo;t supported, we need to skip the payment phase by POSTing on the
<code class="prettyprint">api/v1/shipbacks/:id/free</code> endpoint.</p>

<p>Once the call has been successfully performed, the voucher and the label are
being generated, you can get the corresponding label by polling the
<code class="prettyprint">api/v1/shipbacks/:id</code> endpoint.</p>

<p>The label generation is dependent of the carriers response time, you can expect
up to 1 minute of waiting to get the label.</p>
